<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>WRWF Voting System ‚Äî Process Flow</title>
<style>
  @import url('https://fonts.googleapis.com/css2?family=Cormorant+Garamond:ital,wght@0,400;0,600;0,700;1,400&family=Source+Sans+3:wght@300;400;500;600&display=swap');

  :root {
    --wrwf-teal: #2a7f7f;
    --wrwf-teal-light: #e6f3f3;
    --wrwf-teal-dark: #1d5c5c;
    --wrwf-gold: #c8a951;
    --wrwf-gold-light: #f5efd8;
    --wrwf-cream: #faf8f3;
    --wrwf-charcoal: #2d2d2d;
    --wrwf-warm-gray: #6b6560;
    --wrwf-border: #d4cfc7;
  }

  * { margin: 0; padding: 0; box-sizing: border-box; }
  body { font-family: 'Source Sans 3', sans-serif; background: var(--wrwf-cream); color: var(--wrwf-charcoal); line-height: 1.7; }

  .container { max-width: 1000px; margin: 0 auto; padding: 20px; }

  .back-link { display: inline-block; color: var(--wrwf-teal); text-decoration: none; font-size: 14px; margin-bottom: 16px; }
  .back-link:hover { text-decoration: underline; }

  header { text-align: center; padding: 40px 20px; border-bottom: 2px solid var(--wrwf-teal); margin-bottom: 40px; }
  .logo-text { font-family: 'Cormorant Garamond', serif; font-size: 28px; font-weight: 700; color: var(--wrwf-teal); }
  .logo-sub { font-size: 12px; font-weight: 500; color: var(--wrwf-warm-gray); letter-spacing: 3px; text-transform: uppercase; margin-top: 4px; }
  .page-title { font-family: 'Cormorant Garamond', serif; font-size: 26px; font-weight: 600; margin-top: 20px; }

  .flow-section { margin-bottom: 48px; }
  .flow-section h2 { font-family: 'Cormorant Garamond', serif; font-size: 22px; font-weight: 700; color: var(--wrwf-teal-dark); margin-bottom: 20px; display: flex; align-items: center; gap: 12px; }
  .flow-section h2 .phase-num { background: var(--wrwf-teal); color: white; width: 36px; height: 36px; border-radius: 50%; display: flex; align-items: center; justify-content: center; font-size: 16px; }

  .flow-diagram { background: white; border: 1px solid var(--wrwf-border); border-radius: 12px; padding: 30px; margin-bottom: 20px; }

  .flow-row { display: flex; align-items: stretch; gap: 20px; margin-bottom: 20px; }
  .flow-row:last-child { margin-bottom: 0; }

  .actor-column { width: 140px; flex-shrink: 0; text-align: center; }
  .actor-label { font-size: 11px; text-transform: uppercase; letter-spacing: 1px; color: var(--wrwf-warm-gray); margin-bottom: 8px; font-weight: 600; }
  .actor-icon { width: 60px; height: 60px; border-radius: 50%; margin: 0 auto 8px; display: flex; align-items: center; justify-content: center; font-size: 24px; }
  .actor-icon.staff { background: #e8d4f0; color: #6a4a7a; }
  .actor-icon.system { background: var(--wrwf-teal-light); color: var(--wrwf-teal-dark); }
  .actor-icon.member { background: var(--wrwf-gold-light); color: #8a6d20; }
  .actor-icon.leadership { background: #d4e8d4; color: #3a6a3a; }
  .actor-name { font-size: 13px; font-weight: 600; color: var(--wrwf-charcoal); }

  .flow-content { flex: 1; }

  .flow-step { background: #fafafa; border: 1px solid var(--wrwf-border); border-radius: 8px; padding: 16px 20px; margin-bottom: 12px; position: relative; }
  .flow-step:last-child { margin-bottom: 0; }
  .flow-step.email { border-left: 4px solid #5a8a9a; }
  .flow-step.action { border-left: 4px solid var(--wrwf-teal); }
  .flow-step.data { border-left: 4px solid var(--wrwf-gold); }
  .flow-step.decision { border-left: 4px solid #8a5a6a; }

  .step-type { font-size: 10px; text-transform: uppercase; letter-spacing: 1px; color: var(--wrwf-warm-gray); margin-bottom: 4px; }
  .step-title { font-weight: 600; font-size: 15px; margin-bottom: 4px; }
  .step-desc { font-size: 13px; color: var(--wrwf-warm-gray); }

  .arrow { text-align: center; padding: 10px 0; color: var(--wrwf-teal); font-size: 20px; }

  .timeline { position: relative; padding-left: 40px; }
  .timeline::before { content: ''; position: absolute; left: 15px; top: 0; bottom: 0; width: 2px; background: var(--wrwf-border); }
  .timeline-item { position: relative; margin-bottom: 24px; }
  .timeline-item::before { content: ''; position: absolute; left: -33px; top: 4px; width: 12px; height: 12px; border-radius: 50%; background: var(--wrwf-teal); border: 3px solid white; box-shadow: 0 0 0 2px var(--wrwf-teal); }
  .timeline-item.email::before { background: #5a8a9a; box-shadow: 0 0 0 2px #5a8a9a; }
  .timeline-item.data::before { background: var(--wrwf-gold); box-shadow: 0 0 0 2px var(--wrwf-gold); }

  .timeline-header { display: flex; align-items: center; gap: 12px; margin-bottom: 6px; }
  .timeline-who { font-size: 11px; text-transform: uppercase; letter-spacing: 1px; padding: 2px 10px; border-radius: 10px; font-weight: 600; }
  .timeline-who.staff { background: #e8d4f0; color: #6a4a7a; }
  .timeline-who.system { background: var(--wrwf-teal-light); color: var(--wrwf-teal-dark); }
  .timeline-who.member { background: var(--wrwf-gold-light); color: #8a6d20; }
  .timeline-title { font-weight: 600; font-size: 15px; }
  .timeline-desc { font-size: 14px; color: var(--wrwf-warm-gray); margin-left: 0; }

  .comm-box { background: white; border: 1px solid var(--wrwf-border); border-radius: 8px; padding: 20px; margin: 20px 0; }
  .comm-box h4 { font-size: 14px; font-weight: 600; color: var(--wrwf-teal-dark); margin-bottom: 12px; display: flex; align-items: center; gap: 8px; }
  .comm-list { list-style: none; }
  .comm-list li { padding: 8px 0; border-bottom: 1px solid #eee; font-size: 14px; display: flex; align-items: flex-start; gap: 10px; }
  .comm-list li:last-child { border-bottom: none; }
  .comm-list .icon { font-size: 16px; }
  .comm-list strong { color: var(--wrwf-charcoal); }
  .comm-list .detail { color: var(--wrwf-warm-gray); font-size: 13px; }

  .legend { display: flex; flex-wrap: wrap; gap: 16px; padding: 16px 20px; background: #f8f7f5; border-radius: 8px; margin-bottom: 30px; }
  .legend-item { display: flex; align-items: center; gap: 8px; font-size: 13px; }
  .legend-color { width: 16px; height: 16px; border-radius: 3px; }
  .legend-color.email { background: #5a8a9a; }
  .legend-color.action { background: var(--wrwf-teal); }
  .legend-color.data { background: var(--wrwf-gold); }
  .legend-color.decision { background: #8a5a6a; }

  .summary-grid { display: grid; grid-template-columns: repeat(auto-fit, minmax(200px, 1fr)); gap: 16px; margin: 24px 0; }
  .summary-card { background: white; border: 1px solid var(--wrwf-border); border-radius: 8px; padding: 20px; text-align: center; }
  .summary-card .number { font-family: 'Cormorant Garamond', serif; font-size: 36px; font-weight: 700; color: var(--wrwf-teal); }
  .summary-card .label { font-size: 13px; color: var(--wrwf-warm-gray); }

  .secrecy-note { background: #f5f0e8; border: 1px solid #e0d5c5; border-radius: 8px; padding: 20px 24px; margin: 24px 0; }
  .secrecy-note h4 { color: #6a5a3a; font-size: 15px; margin-bottom: 10px; }
  .secrecy-note p { font-size: 14px; color: #5a4a3a; }

  footer { text-align: center; padding: 40px 20px; border-top: 1px solid var(--wrwf-border); margin-top: 40px; color: var(--wrwf-warm-gray); font-size: 13px; }

  @media (max-width: 640px) {
    .flow-row { flex-direction: column; }
    .actor-column { width: 100%; display: flex; align-items: center; gap: 12px; margin-bottom: 12px; }
    .actor-icon { margin: 0; width: 40px; height: 40px; font-size: 18px; }
  }
</style>
</head>
<body>

<div class="container">
  <a class='back-link' href='/'>‚Üê Back to Overview</a>

  <header>
    <div class="logo-text">Wood River Women's Foundation</div>
    <div class="logo-sub">Voting System</div>
    <div class="page-title">Process Flow: From Ballot to Results</div>
  </header>

  <div class="legend">
    <div class="legend-item"><div class="legend-color email"></div> Email Communication</div>
    <div class="legend-item"><div class="legend-color action"></div> System Action</div>
    <div class="legend-item"><div class="legend-color data"></div> Data/Export</div>
    <div class="legend-item"><div class="legend-color decision"></div> Decision Point</div>
  </div>

  <div class="summary-grid">
    <div class="summary-card">
      <div class="number">4</div>
      <div class="label">Phases</div>
    </div>
    <div class="summary-card">
      <div class="number">2</div>
      <div class="label">Emails per voter</div>
    </div>
    <div class="summary-card">
      <div class="number">~2 wks</div>
      <div class="label">Voting window</div>
    </div>
    <div class="summary-card">
      <div class="number">1</div>
      <div class="label">Click to vote</div>
    </div>
  </div>

  <!-- PHASE 1 -->
  <div class="flow-section">
    <h2><span class="phase-num">1</span> Setup (Before Voting Opens)</h2>

    <div class="timeline">
      <div class="timeline-item">
        <div class="timeline-header">
          <span class="timeline-who staff">Staff</span>
          <span class="timeline-title">Upload voter roster (CSV)</span>
        </div>
        <div class="timeline-desc">Names and email addresses of all voting members. The system generates a unique secure token for each voter.</div>
      </div>

      <div class="timeline-item">
        <div class="timeline-header">
          <span class="timeline-who staff">Staff</span>
          <span class="timeline-title">Edit and upload presentation videos</span>
        </div>
        <div class="timeline-desc">Edit applicant video presentations (5-minute clips), upload to hosting service (YouTube, Vimeo, or WRWF server), and gather URLs for each.</div>
      </div>

      <div class="timeline-item">
        <div class="timeline-header">
          <span class="timeline-who staff">Staff</span>
          <span class="timeline-title">Upload grant applicants (CSV)</span>
        </div>
        <div class="timeline-desc">Organization names, requested amounts, project descriptions, and links to the uploaded presentation videos and transcripts.</div>
      </div>

      <div class="timeline-item">
        <div class="timeline-header">
          <span class="timeline-who staff">Staff</span>
          <span class="timeline-title">Choose voting approach</span>
        </div>
        <div class="timeline-desc">Select one of: Participatory Budgeting, Quadratic, Tiered, or Current Ranked system.</div>
      </div>

      <div class="timeline-item data">
        <div class="timeline-header">
          <span class="timeline-who system">System</span>
          <span class="timeline-title">Generate unique voting links</span>
        </div>
        <div class="timeline-desc">Each member gets a personal URL (e.g., vote.wrwf.org/login?token=abc123...) that serves as their "key" to the ballot.</div>
      </div>
    </div>
  </div>

  <!-- PHASE 2 -->
  <div class="flow-section">
    <h2><span class="phase-num">2</span> Ballot Distribution</h2>

    <div class="timeline">
      <div class="timeline-item email">
        <div class="timeline-header">
          <span class="timeline-who staff">Staff</span>
          <span class="timeline-title">Send ballot emails</span>
        </div>
        <div class="timeline-desc">Each member receives an email with their personal voting link. Can be sent via the system directly or exported as CSV for mail merge.</div>
      </div>
    </div>

    <div class="comm-box">
      <h4>üìß Ballot Email Contents</h4>
      <ul class="comm-list">
        <li>
          <span class="icon">üìå</span>
          <div>
            <strong>Subject:</strong> WRWF 2026 Grants Ballot ‚Äî Your Personal Voting Link
          </div>
        </li>
        <li>
          <span class="icon">üîó</span>
          <div>
            <strong>Personal voting link</strong> (unique per member)
            <div class="detail">Clicking the link logs them in automatically ‚Äî no password needed</div>
          </div>
        </li>
        <li>
          <span class="icon">üìÖ</span>
          <div>
            <strong>Voting deadline</strong>
            <div class="detail">Clear date/time when the ballot closes</div>
          </div>
        </li>
        <li>
          <span class="icon">‚ÑπÔ∏è</span>
          <div>
            <strong>Brief instructions</strong>
            <div class="detail">What to expect, how long it takes, that they can save and return</div>
          </div>
        </li>
      </ul>
    </div>
  </div>

  <!-- PHASE 3 -->
  <div class="flow-section">
    <h2><span class="phase-num">3</span> Voting Period</h2>

    <div class="timeline">
      <div class="timeline-item">
        <div class="timeline-header">
          <span class="timeline-who member">Member</span>
          <span class="timeline-title">Click personal link</span>
        </div>
        <div class="timeline-desc">Opens the ballot page. Member is automatically authenticated ‚Äî no login required.</div>
      </div>

      <div class="timeline-item">
        <div class="timeline-header">
          <span class="timeline-who member">Member</span>
          <span class="timeline-title">Review applicants & make selections</span>
        </div>
        <div class="timeline-desc">Browse descriptions, watch videos, read transcripts. Allocate points/votes or rank applicants based on the chosen voting approach.</div>
      </div>

      <div class="timeline-item">
        <div class="timeline-header">
          <span class="timeline-who system">System</span>
          <span class="timeline-title">Auto-save draft continuously</span>
        </div>
        <div class="timeline-desc">Every change is saved. Member can close browser, return days later, even from a different device ‚Äî their progress is preserved.</div>
      </div>

      <div class="timeline-item email">
        <div class="timeline-header">
          <span class="timeline-who staff">Staff</span>
          <span class="timeline-title">Send reminder emails (optional)</span>
        </div>
        <div class="timeline-desc">Admin dashboard shows who hasn't voted. Send targeted reminders only to non-voters.</div>
      </div>

      <div class="timeline-item">
        <div class="timeline-header">
          <span class="timeline-who member">Member</span>
          <span class="timeline-title">Submit final ballot</span>
        </div>
        <div class="timeline-desc">Member confirms their choices. A finality warning appears ‚Äî submitted ballots cannot be changed.</div>
      </div>

      <div class="timeline-item">
        <div class="timeline-header">
          <span class="timeline-who system">System</span>
          <span class="timeline-title">Sever identity from ballot</span>
        </div>
        <div class="timeline-desc">The ballot is saved anonymously. The member's draft is deleted. A receipt code is generated for self-verification.</div>
      </div>

      <div class="timeline-item">
        <div class="timeline-header">
          <span class="timeline-who member">Member</span>
          <span class="timeline-title">Receive receipt code</span>
        </div>
        <div class="timeline-desc">A 6-character code is displayed. Member can use it later to verify their ballot was counted (without revealing how they voted).</div>
      </div>
    </div>

    <div class="secrecy-note">
      <h4>üîí Ballot Secrecy</h4>
      <p>At the moment of submission, the voter's identity is permanently separated from their ballot. The system records <em>that</em> someone voted, but not <em>how</em> they voted. There is no database field, foreign key, or mechanism that links a voter to their anonymous ballot. Even administrators cannot see how any individual voted.</p>
    </div>
  </div>

  <!-- PHASE 4 -->
  <div class="flow-section">
    <h2><span class="phase-num">4</span> Results & Reporting</h2>

    <div class="timeline">
      <div class="timeline-item">
        <div class="timeline-header">
          <span class="timeline-who system">System</span>
          <span class="timeline-title">Tabulate results in real-time</span>
        </div>
        <div class="timeline-desc">As ballots come in, totals update automatically. Admin dashboard shows running results.</div>
      </div>

      <div class="timeline-item">
        <div class="timeline-header">
          <span class="timeline-who staff">Staff</span>
          <span class="timeline-title">Monitor participation</span>
        </div>
        <div class="timeline-desc">Dashboard shows: total voters, ballots submitted, who's logged in, who has drafts in progress, who hasn't started.</div>
      </div>

      <div class="timeline-item data">
        <div class="timeline-header">
          <span class="timeline-who staff">Staff</span>
          <span class="timeline-title">Export results (CSV)</span>
        </div>
        <div class="timeline-desc">Download final results for the board. Shows total points/votes per applicant, number of supporters, and ranking.</div>
      </div>

      <div class="timeline-item">
        <div class="timeline-header">
          <span class="timeline-who staff">Staff</span>
          <span class="timeline-title">Share results with leadership</span>
        </div>
        <div class="timeline-desc">Board reviews results to make final funding decisions. The member vote guides but does not automatically determine awards.</div>
      </div>
    </div>
  </div>

  <!-- Communications Summary -->
  <div class="flow-section">
    <h2>Communications Summary</h2>

    <div class="comm-box">
      <h4>üì¨ Emails Sent to Members</h4>
      <ul class="comm-list">
        <li>
          <span class="icon">1Ô∏è‚É£</span>
          <div>
            <strong>Ballot Invitation</strong>
            <div class="detail">When voting opens ‚Äî contains personal voting link, deadline, and instructions</div>
          </div>
        </li>
        <li>
          <span class="icon">2Ô∏è‚É£</span>
          <div>
            <strong>Reminder (optional)</strong>
            <div class="detail">Sent only to members who haven't submitted ‚Äî friendly nudge with same voting link</div>
          </div>
        </li>
      </ul>
    </div>

    <div class="comm-box">
      <h4>üìä Data Exports Available</h4>
      <ul class="comm-list">
        <li>
          <span class="icon">üë•</span>
          <div>
            <strong>Voter Links CSV</strong>
            <div class="detail">For mail merge ‚Äî name, email, personal link, submission status</div>
          </div>
        </li>
        <li>
          <span class="icon">üìà</span>
          <div>
            <strong>Results CSV</strong>
            <div class="detail">Final tabulation ‚Äî applicant names, total points/votes, supporter count, ranking</div>
          </div>
        </li>
      </ul>
    </div>
  </div>

  <!-- What Happens to Ballots -->
  <div class="flow-section">
    <h2>What Happens When a Ballot is Submitted</h2>

    <div class="flow-diagram">
      <div style="display: grid; grid-template-columns: 1fr auto 1fr; gap: 20px; align-items: center; text-align: center;">
        <div style="background: var(--wrwf-gold-light); padding: 20px; border-radius: 8px;">
          <div style="font-weight: 600; margin-bottom: 8px;">Voter Registry</div>
          <div style="font-size: 13px; color: var(--wrwf-warm-gray);">Records that member voted</div>
          <div style="font-size: 12px; margin-top: 8px; color: #6a5a3a;">Name, email, has_voted=true</div>
        </div>

        <div style="font-size: 32px; color: var(--wrwf-teal);">‚üµ ‚úÇÔ∏è ‚ü∂</div>

        <div style="background: var(--wrwf-teal-light); padding: 20px; border-radius: 8px;">
          <div style="font-weight: 600; margin-bottom: 8px;">Anonymous Ballot Box</div>
          <div style="font-size: 13px; color: var(--wrwf-warm-gray);">Stores how they voted</div>
          <div style="font-size: 12px; margin-top: 8px; color: var(--wrwf-teal-dark);">Random ID, votes, receipt code</div>
        </div>
      </div>

      <div style="text-align: center; margin-top: 24px; padding: 16px; background: #fafafa; border-radius: 6px;">
        <div style="font-size: 14px; color: var(--wrwf-warm-gray);">
          <strong>No connection exists between these two records.</strong><br>
          The draft (which temporarily linked voter to ballot content) is deleted on submission.
        </div>
      </div>
    </div>
  </div>

  <footer>
    <p>WRWF Voting System ‚Äî Process Documentation</p>
    <p style="margin-top: 8px;"><a href='/' style='color: var(--wrwf-teal);'>Back to Overview</a></p>
  </footer>
</div>

</body>
</html>
